(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(7750)}])},7750:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return x}});var t=a(5893),l=a(7294),r=a(9008),n=a.n(r);let i=e=>{let{alert:s}=e;return(0,t.jsxs)("div",{className:"p-3 bg-gray-700 rounded flex items-start space-x-3",children:[(0,t.jsx)("div",{className:"w-3 h-3 mt-1 rounded-full bg-red-400"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("div",{className:"font-semibold text-sm text-white",children:(null==s?void 0:s.title)||"Alert ".concat(null==s?void 0:s.alert_id)}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:[(null==s?void 0:s.severity)||"info"," â€¢ ",(null==s?void 0:s.timestamp)||""]})]})]})},c=e=>{let{cameras:s=[],selectedCamera:a,onSelectCamera:l}=e;return(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:0===s.length?(0,t.jsx)("div",{className:"text-gray-400 p-6",children:"No cameras available"}):s.map(e=>(0,t.jsxs)("div",{className:"bg-gray-600 rounded p-2 cursor-pointer border ".concat(a===(e.id||e.camera_id)?"border-cyan-400":"border-transparent"),onClick:()=>l&&l(e.id||e.camera_id),children:[(0,t.jsxs)("div",{className:"bg-black h-36 rounded flex items-center justify-center text-gray-400",children:["Camera ",e.name||e.camera_id||e.id]}),(0,t.jsx)("div",{className:"text-xs text-gray-300 mt-2",children:e.location||""})]},e.id||e.camera_id))})},d=e=>{let{health:s,cameras:a=[]}=e;return(0,t.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"System Stats"}),(0,t.jsxs)("div",{className:"text-sm text-gray-300",children:["Status: ",(0,t.jsx)("span",{className:"font-medium text-white",children:(null==s?void 0:s.status)||"unknown"})]}),(0,t.jsxs)("div",{className:"text-sm text-gray-300 mt-2",children:["Cameras: ",(0,t.jsx)("span",{className:"font-medium text-white",children:a.length})]})]})},m=e=>{let{cameras:s=[]}=e;return(0,t.jsxs)("div",{className:"h-64 bg-gray-700 rounded flex items-center justify-center text-gray-400",children:["Risk heatmap placeholder (",s.length," cameras)"]})};function x(){let{alerts:e,isLoading:s}=function(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{setTimeout(()=>{s([{alert_id:"a1",title:"Crowd density high",severity:"high",timestamp:"now"}]),t(!1)},200)},[]),{alerts:e,isLoading:a}}(),{cameras:a,isLoading:r}=function(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{setTimeout(()=>{s([{id:"cam1",name:"Main St",location:"Intersection"},{id:"cam2",name:"Park",location:"Central Park"}]),t(!1)},200)},[]),{cameras:e,isLoading:a}}(),{health:x,isLoading:o}=function(){let[e,s]=(0,l.useState)(null),[a,t]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{setTimeout(()=>{s({status:"healthy"}),t(!1)},100)},[]),{health:e,isLoading:a}}(),[h,u]=(0,l.useState)(null);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"SENTIENTCITY - Live Monitoring"}),(0,t.jsx)("meta",{name:"description",content:"Smart City Intelligence Dashboard"})]}),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 text-white",children:[(0,t.jsx)("header",{className:"bg-gray-800 border-b border-gray-700 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-cyan-400",children:"SENTIENTCITY"}),(0,t.jsx)("span",{className:"text-gray-400",children:"|"}),(0,t.jsx)("span",{className:"text-gray-300",children:"Live Monitoring"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-3 h-3 rounded-full ".concat((null==x?void 0:x.status)==="healthy"?"bg-green-500":"bg-red-500"," animate-pulse")}),(0,t.jsx)("span",{className:"text-sm text-gray-300",children:(null==x?void 0:x.status)==="healthy"?"System Operational":"System Issues"})]}),(0,t.jsxs)("div",{className:"bg-gray-700 rounded-lg px-3 py-1",children:[(0,t.jsx)("span",{className:"text-cyan-400 font-semibold",children:(null==a?void 0:a.length)||0}),(0,t.jsx)("span",{className:"text-gray-400 ml-1",children:"Active Cameras"})]})]})]})}),(0,t.jsx)("main",{className:"p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[(0,t.jsxs)("div",{className:"col-span-8",children:[(0,t.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-2 animate-pulse"}),"Live Camera Feeds"]}),(0,t.jsx)(c,{cameras:a||[],selectedCamera:h,onSelectCamera:u})]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700 mt-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Risk Heatmap"}),(0,t.jsx)(m,{cameras:a||[]})]})]}),(0,t.jsxs)("div",{className:"col-span-4 space-y-6",children:[(0,t.jsx)(d,{health:x,cameras:a||[]}),(0,t.jsxs)("div",{className:"bg-gray-800 rounded-xl p-4 border border-gray-700",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Recent Alerts"}),(0,t.jsxs)("span",{className:"text-sm text-gray-400",children:[(null==e?void 0:e.length)||0," active"]})]}),(0,t.jsx)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s?(0,t.jsx)("div",{className:"text-center py-8 text-gray-400",children:"Loading alerts..."}):(null==e?void 0:e.length)===0?(0,t.jsx)("div",{className:"text-center py-8 text-gray-400",children:"No active alerts"}):null==e?void 0:e.slice(0,10).map(e=>(0,t.jsx)(i,{alert:e},e.alert_id))})]})]})]})})]})]})}},9008:function(e,s,a){e.exports=a(3867)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);